---
import Layout from '../layouts/Layout.astro';
import { LOCALES } from '../i18n/config';
import { t } from '../i18n/ui';
// Make a normal array copy so Astro/TS always sees array methods like `.map`,
// while keeping each element strongly typed as `Locale`.
const locales = [...LOCALES];
---

<Layout>
	<main style="max-width: 70ch; margin: 3rem auto; padding: 0 1rem;">
		<h1>Choose a language</h1>
		<ul>
			{locales.map((locale) => (
				<li>
					<a href={`/${locale}`}>{t(locale, `languageLabel.${locale}`)}</a>
				</li>
			))}
		</ul>
	</main>
</Layout>
