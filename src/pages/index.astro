---
import Page from '../layouts/Page.astro';
import { LOCALES } from '../i18n/config';
import { t } from '../i18n/ui';
// Make a normal array copy so Astro/TS always sees array methods like `.map`,
// while keeping each element strongly typed as `Locale`.
const locales = [...LOCALES];
---

<Page title="Choose a language">
	<section aria-labelledby="language-chooser-title">
		<h1 id="language-chooser-title">Choose a language</h1>
		<ul>
			{locales.map((locale) => (
				<li>
					<a href={locale}>{t(locale, `languageLabel.${locale}`)}</a>
				</li>
			))}
		</ul>
	</section>
</Page>
